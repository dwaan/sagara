@use 'variables';
@use 'fonts';
@use 'typography';
@use 'vertical';
@use 'after-before';


/* Extend flex classess */

.flex-row {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    align-items: flex-start;
    align-self: stretch;
}

.flex-column {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    align-self: stretch;
}

.flex-row-center {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    align-self: stretch;
}

.flex-column-center {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    align-self: stretch;
}

.flex-row-start {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    align-items: center;
    align-self: stretch;
}

.flex-column-start {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    align-self: stretch;
}

.no-padding-margin {
    padding: 0;
    margin: 0;
}


/* Default stlyes */

* {
    box-sizing: border-box;
}

html,
body {
    @extend .no-padding-margin;

    background: var(--light-white-normal);
}

header {
    @extend .flex-row-center;
    @extend .no-padding-margin;

    position: relative;
    z-index: 999;
    padding: var(--var-size-48) var(--var-size-96);
    justify-content: space-between;

    >div {
        z-index: 3;
    }

    >menu {
        z-index: 2;
    }

    li {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: var(--var-size-8);
        z-index: 3;
    }

    a {
        align-self: center;

        color: var(--dark-normal);
    }

    object {
        background: transparent;
    }

    .main>li {
        z-index: 2;

        >a {
            @extend .flex-row-center;
            z-index: 2;

            gap: var(--var-size-8);

            @extend .before;

            &::before {
                background: var(--neon-green);
                border: none;
                opacity: 0;
            }

            .arrow {
                width: 1rem;
            }
        }

        &:hover {
            z-index: 1;

            >a {
                color: var(--dark-static);

                &::before {
                    top: calc(var(--var-size-12) * -1);
                    left: calc(var(--var-size-24) * -1);
                    right: calc(var(--var-size-24) * -1);
                    bottom: calc(var(--var-size-12) * -1);
                    opacity: 1;
                }

                .arrow {
                    &::before {
                        right: .25rem;
                    }

                    &::after {
                        right: 0;
                    }
                }
            }
        }

        >nav {
            opacity: 0;
            pointer-events: none;
            transform: translate(0, -2rem);
            transition: all var(--fast) var(--ease-back);
        }

        &:hover>nav {
            margin-top: 0;
            opacity: 1;
            transform: translate(0, 0);
            pointer-events: all;
        }
    }
}

menu {
    @extend .flex-row-center;
    @extend .no-padding-margin;

    gap: var(--var-size-48);
    list-style: none;
}

nav.popup {
    position: absolute;
    z-index: 1;
    top: 5.5rem;
    left: 0;
    right: 0;
    display: flex;
    padding: var(--var-size-48) var(--var-size-96);
    flex-direction: column;
    align-items: center;
    gap: var(--var-size-48);

    background: var(--light-white-transparent);
    box-shadow: 0 var(--var-size-64) var(--var-size-64) 0 rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(var(--var-size-32));

    li {
        @extend .flex-column-start;
        @extend .vertical--minimal;
        align-self: stretch;

        min-width: 8rem;
        width: calc(25% - var(--var-size-48));
        max-width: 13.75rem;
        ;
    }

    menu {
        gap: var(--var-size-16) var(--var-size-48);
        flex-wrap: wrap;
    }

    a {
        text-align: center;
    }
}

a {
    @extend .after-before;

    &.button {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        gap: var(--var-size-16);

        span {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }

        &::before,
        &::after {
            border-radius: var(--var-size-big);
        }
    }

    &.cta {
        padding: var(--var-size-24) var(--var-size-48);
        gap: var(--var-size-32);

        span {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }

        &::before,
        &::after {
            border-radius: var(--var-size-big);
            background: var(--neon-blue);
        }

        &::after {
            transform: translate(var(--var-size-12), var(--var-size-8));
            background: var(--neon-green);
        }

        &:hover {
            &::before {
                top: calc(var(--var-size-8) * -1);
                left: calc(var(--var-size-24) * -1);
                right: calc(var(--var-size-24) * -1);
                bottom: calc(var(--var-size-8) * -1);
            }
        }

        .arrow {
            width: 4rem;
            margin-right: -1rem;
        }
    }

    &.pill {
        padding: var(--var-size-16) var(--var-size-24);
        gap: var(--var-size-16);

        &::before {
            border: 1px solid var(--light-gray-transparent);
        }

        &:hover {
            color: var(--light-white-normal);

            &::before {
                top: calc(var(--var-size-4) * -1/2);
                left: calc(var(--var-size-4) * -1);
                right: calc(var(--var-size-4) * -1);
                bottom: calc(var(--var-size-4) * -1/2);
                background: var(--neon-blue);
            }
        }
    }

    .arrow {
        width: 2rem;
    }

    &:hover .arrow {
        &::before {
            right: 1rem;
        }

        &::after {
            right: .75rem;
        }
    }
}

section,
menu {

    h1,
    h2,
    h3,
    h4,
    h5,
    p {
        @extend .no-padding-margin;
    }

    a {
        color: inherit;
        font-size: inherit;
        font-weight: inherit;
    }
}

main {
    @extend .flex-column;
    @extend .no-padding-margin;
    gap: var(--var-size-64)
}

section {
    @extend .flex-column-center;
    @extend .no-padding-margin;

    padding: var(--var-size-64) var(--var-size-96);
    flex-direction: column;
    gap: var(--var-size-64);
}

section.hero {
    padding-top: var(--var-size-96);

    article {
        display: flex;
        padding: 0 var(--var-size-128);
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        gap: var(--var-size-64);
        align-self: stretch;
    }
}

section.horizontal {
    flex-direction: row;
    align-items: flex-start;
    gap: var(--var-size-64);

    h2 {
        color: var(--blue-deep);
        flex: var(--var-text-width-one-third) 0 0;
    }

    .text {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--var-size-48);
        flex: 1 0 0;
    }
}

section.blue {
    padding: var(--var-size-64) 5rem;

    article {
        display: flex;
        padding: var(--var-size-64) var(--var-size-96);

        flex-direction: column;
        align-items: flex-start;
        gap: var(--var-size-48);

        color: var(--light-white-static);

        align-self: stretch;
        border-radius: var(--var-size-24);
        background: var(--neon-blue);
    }

    h3 {
        color: var(--neon-green);
    }

    .submenu {
        align-items: flex-start;
        justify-content: flex-start;
        flex-wrap: wrap;
        gap: 0 var(--var-size-64);
        align-self: stretch;

        li {
            position: relative;
            z-index: 1;
            display: flex;
            padding: var(--var-size-24) 0;
            align-items: flex-start;
            gap: var(--var-size-16);
            flex: calc(50% - var(--var-size-32)) 0 0;

            a {
                display: flex;
                line-height: 1.625rem;
                flex: 1 0 0;
            }

            @extend .after-before;

            &:before {
                height: 1px;
                right: calc(var(--var-size-64) * -1);
                background: var(--light-white-static);
                opacity: .25;
            }

            &:nth-child(even) {
                &:before {
                    right: 0;
                }
            }

            &:after {
                top: var(--var-size-24);
                left: 0;
                right: 0;
                bottom: var(--var-size-24);
                border-radius: var(--var-size-8);
            }

            svg {
                fill: var(--light-white-static);
            }

            &:hover {
                color: var(--dark-static);

                &:after {
                    top: var(--var-size-16);
                    left: calc(var(--var-size-8) * -1);
                    right: calc(var(--var-size-8) * -1);
                    bottom: var(--var-size-16);
                    background: var(--neon-green);
                }

                svg {
                    fill: var(--dark-static) !important;
                }
            }

        }
    }

    .text {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: var(--var-size-24);
        align-self: stretch;
    }

    .button {
        color: var(--neon-green);
    }
}

.text {
    display: flex;
    padding: 0;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: var(--var-size-32);
    align-self: stretch;

    h1,
    h2,
    h3,
    h4,
    h5,
    p {
        padding: 0;
        margin: 0;
    }
}

footer {
    @extend .flex-column-center;
    @extend .no-padding-margin;

    padding: var(--var-size-64) var(--var-size-96) var(--var-size-48);
    gap: var(--var-size-48);

    a {
        @extend .before;

        &::before {
            background: var(--light-gray-normal);
            border-radius: var(--var-size-12);
            border: none;
            opacity: 0;
        }

        &:hover {
            &::before {
                top: calc(var(--var-size-4) * -1);
                left: calc(var(--var-size-12) * -1);
                right: calc(var(--var-size-12) * -1);
                bottom: calc(var(--var-size-4) * -1);
                opacity: 1;
            }
        }
    }

    h3 a {
        &::before {
            background: var(--neon-blue);
        }

        &:hover {
            color: var(--light-white-normal);

            &::before {
                top: calc(var(--var-size-8) * -1);
                left: calc(var(--var-size-16) * -1);
                right: calc(var(--var-size-16) * -1);
                bottom: calc(var(--var-size-8) * -1);
                opacity: 1;
            }
        }
    }

    .sitemap,
    .legal {
        flex-direction: row;
        justify-content: flex-start;
        align-items: flex-start;
        max-width: var(--max-wide);
        align-self: center;
        width: 100%;
    }

    .sitemap {
        gap: var(--var-size-64);
        padding-bottom: var(--var-size-64);

        ol,
        ul {
            display: flex;
            margin: 0;
            padding: 0;
            flex-direction: column;
            align-items: flex-start;
            gap: var(--var-size-24);
        }

        li {
            display: flex;
            padding: 0;
            flex-direction: column;
            align-items: flex-start;
            gap: var(--var-size-24);
            flex: 1 0 0;
        }

        ul {
            gap: var(--var-size-64);
        }
    }

    .legal {
        padding: 0;
        align-items: center;
        gap: var(--var-size-48);
    }

    .arrow {
        margin-left: calc(var(--var-size-96) * -1);
        width: calc(100% + var(--var-size-96));
    }
}

.flat {
    @extend .flex-row;
    @extend .no-padding-margin;

    padding: 0;

    li {
        display: flex;
        flex-direction: column;
        align-items: center;
        align-self: stretch;
    }
}

div {
    @extend .flex-column-center;
}

noscript {
    @extend .flex-column-start;
    padding: 0 var(--var-size-96);
}

/* Arrow insert */


.arrow {
    @extend .flex-column-center;

    align-self: initial;
    width: 6rem;

    @extend .after-before;

    &::before,
    &::after {
        top: initial;
        left: 0;
        right: .25rem;
        bottom: initial;
        height: .25rem;
        border-radius: 0;
        border-top: .125rem solid transparent;
        border-bottom: .125rem solid currentColor;
    }

    &::after {
        left: initial;
        right: 0;
        width: .25rem;
        border-radius: .25rem .25rem .25rem 0;
        border: .125rem solid currentColor;
        border-left-color: transparent !important;
    }

    &.thin {

        &::before,
        &::after {
            border-top-width: 1px;
            border-bottom-width: 1px;
        }

        &::after {
            border-width: 1px;
        }
    }

    &.gray {
        &::before {
            border-bottom-color: var(--light-gray-normal);
        }

        &::after {
            border-color: var(--light-gray-normal);
        }
    }
}

/* Listing styles */

.box {
    @extend .flex-row-start;

    h3 {
        color: var(--blue-dark, #002B76);
    }

    ul,
    ol {
        @extend .flex-row;

        gap: var(--var-size-32);
    }

    li {
        @extend .vertical--default;
        width: calc((100% - var(--var-size-96) - (4 * var(--var-size-32))) / 4);
        flex: none;

        &.plain {
            width: var(--var-size-96);
            padding: var(--var-size-0);
            border-radius: 0;
            border: 0;
            background-color: transparent;
            justify-content: center;

            &::before,
            &::after {
                display: none;
            }
        }
    }

    svg,
    object,
    embed {
        pointer-events: none;
    }

    .text {
        display: flex;
        padding: var(--var-size-0px);
        flex-direction: column;
        justify-content: flex-end;
        align-items: flex-start;
        gap: var(--var-size-8, 8px);
        align-self: stretch;
    }

    .arrow {
        width: 3rem;
    }
}


/* Tabbing */

.tabs {
    @extend .no-padding-margin;
    padding: var(--var-size-64) 0;
    margin-bottom: calc(var(--var-size-32) * -1);
    overflow: hidden;

    input[type="radio"] {
        display: none;

        &:checked {

            // Add more if tab content is more than 3
            @for $i from 1 through 3 {

                // Current tab
                &:nth-of-type(#{$i})~nav .tab> :nth-child(#{$i}) label {
                    color: var(--light-white-normal);

                    &:after {
                        border-color: var(--neon-blue);
                        background: var(--neon-blue);
                    }
                }

                // Current tab content
                &:nth-of-type(#{$i})~.content article:nth-child(#{$i}) {
                    position: relative;
                    z-index: 1;
                    width: initial;
                    margin: calc(var(--var-size-32) * -1) 0 0;
                    opacity: 1;
                    pointer-events: all;

                    li {
                        opacity: 1;
                        transform: translate(0, 0);
                    }
                }
            }
        }
    }

    article {
        position: absolute;
        top: 0;
        z-index: 0;
        margin: calc(var(--var-size-32) * -1) 0 0;
        width: 100vw;
        opacity: 0;
        overflow: hidden;

        pointer-events: none;
        transition: opacity var(--fast) ease-out;

        .scroll {
            margin: 0 0 calc(var(--var-size-32) * -1);
            padding: var(--var-size-32) var(--var-size-96) var(--var-size-64);
            overflow-y: hidden;
            overflow-x: auto;
            scroll-snap-type: x mandatory;

            >li {
                scroll-snap-align: center;
                opacity: 0;
                transform: translate(0, 2rem);
                transition: transform var(--fast) var(--ease-back), opacity var(--fast) ease-out;

                // Add more if tab content is more than 8
                @for $i from 1 through 8 {
                    &:nth-child(#{$i}) {
                        transition-delay: #{$i*32}ms;
                    }
                }
            }
        }
    }

    nav {
        display: flex;
        flex-direction: row;
        padding: var(--var-size-0) calc(var(--var-size-128) + var(--var-size-96));
        align-items: center;
        gap: var(--var-size-64);
        align-self: stretch;
    }

    .content {
        position: relative;
    }
}

.tab {
    @extend .flex-row-center;

    gap: var(--var-size-24);

    li {

        a,
        label {
            @extend .flex-row-start;
            padding: var(--var-size-16) var(--var-size-24);
            gap: 0;

            @extend .after;

            &:after {
                border-radius: var(--var-size-big);
                border: 1px solid var(--light-gray-transparent);
            }

            &:hover {
                color: var(--light-white-normal);

                &:after {
                    top: calc(var(--var-size-4) * -1/2);
                    left: calc(var(--var-size-4) * -1);
                    right: calc(var(--var-size-4) * -1);
                    bottom: calc(var(--var-size-4) * -1/2);

                    border-color: var(--neon-blue);
                    background: var(--neon-blue);
                }
            }
        }
    }
}